# Complete load-test system

```
+--------------------------------------------------------------------------------------------------+
|                                                                                                  |
|                                                                                                  |
|                                                                                                  |
|      +-----------------------------------------------------------+                               |
|      |                   load-test agent cluster                 |                               |
|      +-----------------------------------------------------------+                               |
|      |  +------+ +----------------------------------+            |                               |
|      |  |      | | +---------------+                |            |                               |
|      |  |      | | |               |                |            |                               |
|      |  |  +---|-|-|-----+  +------v------+  +------v------+     |                               |
+------------> coordinator |  |             |  |             |     |                               |
       |  |  +-------------+  |   lt-agent  |  |   lt-agent  |     |                               |
       |  +-->  lt-agent   |  |             |  |             |     |                               |
       |     +-------------+  +-------------+  +-------------+     |                               |
       |                                                           |                               |
       +-----------------------------|-----------------------------+                               |
                                     |                                                             |
                            +--------v--------+                                                    |
                            |                 |                                                    |
                    +--------      proxy      --------+                                            |
                    |       |                 |       |                                            |
                    |       +--------|--------+       |                                            |
                    |                |                |                                            |
           +--------|----------------|----------------|--------+           +--------------------+  |
           |        |            app | cluster        |        |           |  metrics instance  |  |
           +--------|----------------|----------------|--------+           +--------------------+  |
           | +------v------+  +------v------+  +------v------+ |           | +----------------+ |  |
           | |             |  |             |  |             | -------------->   prometheus   -----+
           | |app instance |  |app instance |  |app instance | |           | +-------|--------+ |
           | |             |  |             |  |             | |           |         |          |
           | +-------------+  +-------------+  +-------------+ |           |         |          |
           |                                                   |           | +-------v--------+ |
           +--------|------------------------^-----------------+           | |    grafana     | |
                    |                        |                             | +----------------+ |
                    |                        |                             +--------------------+
                    |                        |
           +--------|------------------------|-----------------+
           |        |      database     cluster                |
           +--------|----------------^----------------^--------+
           | +------v------+  +------|------+  +------|------+ |
           | |             |  |             |  |             | |
           | |  db writer  |  |  db reader  |  |  db reader  | |
           | |             |  |             |  |             | |
           | +-------------+  +-------------+  +-------------+ |
           +---------------------------------------------------+
```
